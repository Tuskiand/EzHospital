(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/center/center"],{"0018":function(e,t,n){"use strict";n.r(t);var a=n("0e80"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},"0e80":function(e,t,n){"use strict";(function(e,a){var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("d617"),i=n("1576"),c=o(n("8215")),s={data:function(){return{isAlreadyLogin:e.getStorageSync("isAlreadyLogin")||"",isGetTreatCard:!1,iconUrl:"/static/center/",gender:1,userBaseInfo:{name:"",avatarUrl:"",phone:""},cardID:e.getStorageSync("cardID")||""}},onPullDownRefresh:function(){this.getUserInfo(),this.isAlreadyLogin=e.getStorageSync("isAlreadyLogin")},methods:{turnLogin:function(){e.navigateTo({url:"/pagesB/pages/center/login/login"})},toCardList:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesB/pages/center/cardList/cardList"}):(0,r.error)("登录")},toAwaitingQueue:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/awaitingQueue/awaitingQueue"}):(0,r.error)("登录")},toCreditDetail:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/creditDetail/creditDetail"}):(0,r.error)("登录")},toAppointRecord:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/appointRecord/appointRecord"}):(0,r.error)("登录")},toTreatRecord:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/treatRecord/treatRecord"}):(0,r.error)("登录")},toAboutUs:function(){e.navigateTo({url:"/pagesA/pages/aboutUs/aboutUs"})},toBaseInfo:function(){e.navigateTo({url:"/pagesB/pages/center/baseInfo/baseInfo"})},outLogin:function(){var t=this;e.showModal({title:"退出登录",content:"是否退出登录？",confirmText:"确认",cancelText:"取消",success:function(n){n.confirm&&(e.removeStorageSync("isAlreadyLogin"),e.removeStorageSync("cardID"),t.isAlreadyLogin=!1)}})},getUserInfo:function(){var t=this;e.showLoading({title:"信息加载中"}),(0,i.getUserBaseInfo)().then((function(n){var a=n.data.data.basicInfo;t.userBaseInfo.name=a.name,t.userBaseInfo.avatarUrl=a.avatarUrl,t.userBaseInfo.phone=a.phone,e.setStorageSync("accountID",n.data.data.account.id),e.setStorageSync("userID",a.id),t.getMyselfCardInfo(),e.setStorageSync("userInfo",JSON.stringify(t.userBaseInfo)),e.hideLoading()})).catch((function(){e.hideLoading(),(0,r.error)("获取用户基本信息失败")}))},getMyselfCardInfo:function(){var t=this;(0,i.getUserCardInfo)(e.getStorageSync("accountID")).then((function(n){if(200===n.data.code){var o=n.data.data;o.length>0&&o.forEach((function(n,o){if(0===n.type)return e.setStorageSync("cardID",n.id),t.cardID=n.id,void a.stopPullDownRefresh()})),e.hideLoading()}})).catch((function(){e.hideLoading(),(0,r.error)("网络")}))}},onShow:function(){console.log((0,c.default)("admin")),e.getStorageSync("isAlreadyLogin")&&this.getUserInfo(),this.isAlreadyLogin=e.getStorageSync("isAlreadyLogin")}};t.default=s}).call(this,n("df3c")["default"],n("3223")["default"])},"1ae7":function(e,t,n){"use strict";n.r(t);var a=n("c6bf"),o=n("0018");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("363b");var i=n("828b"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=c.exports},"2cf2":function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("f722");a(n("3240"));var o=a(n("1ae7"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"363b":function(e,t,n){"use strict";var a=n("cf81"),o=n.n(a);o.a},c6bf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},o=[]},cf81:function(e,t,n){}},[["2cf2","common/runtime","common/vendor"]]]);